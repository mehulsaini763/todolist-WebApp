(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[729],{9733:function(e,s,t){Promise.resolve().then(t.bind(t,717))},703:function(e,s,t){"use strict";t.d(s,{Cw:function(){return o},I8:function(){return d},db:function(){return u},gD:function(){return i},tO:function(){return x}});var a=t(1313),l=t(4734),n=t(6936),c=t(4202);let r=(0,a.ZF)({apiKey:"AIzaSyDsrU9m7qNCzTT6Df30pAGqjwad8DrMOKo",authDomain:"todolist-5c55b.firebaseapp.com",projectId:"todolist-5c55b",storageBucket:"todolist-5c55b.appspot.com",messagingSenderId:"39215304269",appId:"1:39215304269:web:f34406029d24b6ead31604"}),d=(0,l.v0)(r),i=new l.hJ,o=new l._O,u=(0,n.ad)(r),x=(0,c.cF)(r)},717:function(e,s,t){"use strict";t.r(s),t.d(s,{AppContext:function(){return ei},default:function(){return eo}});var a=t(9268),l=t(6006),n=t(703),c=t(6936),r=t(4734),d=t(6008),i=t(5343),o=()=>{let{menuState:e,setMenuState:s}=(0,l.useContext)(ei);return(0,a.jsxs)("div",{className:"MobileHeader lg:hidden",children:[(0,a.jsx)(i.Z,{onClick:()=>s(!e),className:"absolute mx-2 w-7 h-7 dark:text-white"}),(0,a.jsx)("p",{className:"grow text-3xl font-bold text-black dark:text-white",children:".todolist"})]})},u=t(1608),x=t(9455);let m=()=>{let[e,s]=(0,l.useState)(!1);return[e,()=>{s(!e)}]};var h=()=>{let{documentsToShow:e,setMenuState:s,setDocumentEdit:t,setSidebarState:n,setSelectedItem:c}=(0,l.useContext)(ei),[r,d]=(0,l.useState)(""),[o,h]=m(),g=(0,l.useRef)(),j=async e=>{c({category:"AllTasks"}),await t(e),await n(!1),await n(!0),window.innerWidth>1024&&g.current.value,d(""),h(!1)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("h2",{className:"H2 text-left w-full",children:".todolist"}),(0,a.jsx)(i.Z,{onClick:()=>s(!1),className:"hidden lg:block w-6 h-6 dark:text-white"}),(0,a.jsx)(u.Z,{onClick:()=>s(!1),className:"lg:hidden w-6 h-6 dark:text-white"})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1 ",children:[(0,a.jsxs)("div",{className:"MenuInput px-2",children:[(0,a.jsx)(x.Z,{className:"Icon h-6 w-6 dark:text-white"}),(0,a.jsx)("input",{ref:g,type:"text",className:"bg-neutral-100 dark:bg-neutral-900 dark:text-white",onFocus:()=>h(!0),onChange:e=>d(e.target.value),placeholder:"Search"})]}),(0,a.jsx)("div",{children:o&&(0,a.jsx)("div",{className:"absolute bg-neutral-50 rounded-md inset-x-0 mx-4 border dark:bg-neutral-950",children:e.map(e=>{if(r.length>0)return e.taskName.match(r)&&(0,a.jsx)("div",{className:"m-2 px-2 py-1 hover:bg-neutral-100 dark:hover:bg-neutral-900 dark:text-white",onClick:()=>{j(e),window.innerWidth<1024&&s(!1)},children:e.taskName})})})})]})]})},g=t(4314),j=t(1124),N=t(3812),k=()=>{let{selectedItem:e,setSelectedItem:s,setMenuState:t}=(0,l.useContext)(ei);return(0,a.jsxs)("div",{className:"MenuItem h-fit",children:[(0,a.jsx)("h3",{className:"H3",children:"TASKS"}),(0,a.jsxs)("div",{className:"".concat("AllTasks"==e.category&&"SelectedItem bg-neutral-200  dark:bg-neutral-800"),onClick:()=>{s({category:"AllTasks"}),window.innerWidth<1024&&t(!1)},children:[(0,a.jsx)(g.Z,{className:"Icon h-4 w-4"}),(0,a.jsx)("p",{children:"All Tasks"})]}),(0,a.jsxs)("div",{className:"".concat("Today"==e.category&&"SelectedItem bg-neutral-200 dark:bg-neutral-800"),onClick:()=>{s({category:"Today"}),window.innerWidth<1024&&t(!1)},children:[(0,a.jsx)(j.Z,{className:"Icon h-4 w-4"}),(0,a.jsx)("p",{children:"Today"})]}),(0,a.jsxs)("div",{className:"".concat("StickyWall"==e.category&&"SelectedItem bg-neutral-200 dark:bg-neutral-800"),onClick:()=>{s({category:"StickyWalls"}),window.innerWidth<1024&&t(!1)},children:[(0,a.jsx)(N.Z,{className:"Icon h-4 w-4"}),(0,a.jsx)("p",{children:"Sticky Wall"})]})]})},b=t(3456),p=t(4150),w=t(7989),f=t(6428),v=t(6462),I=()=>{let{documentsToShow:e,getDocuments:s,selectedItem:t,setSelectedItem:r,setMenuState:d}=(0,l.useContext)(ei),[i,o]=m(),[u,x]=(0,l.useState)(""),h=async e=>{"Enter"==e.key&&""!=u&&(e.target.value="",o(),await (0,c.ET)((0,c.hJ)(n.db,"users",n.I8.currentUser.uid,"documents"),{category:"list",listName:u,listId:(0,v.Z)(),taskName:"",taskId:"",description:"",dueDate:"",taskCompleted:!1,tags:[],subtasks:[]}),x(""),s())},g=async(e,a)=>{await (0,c.oe)((0,c.JU)(n.db,"users",n.I8.currentUser.uid,"documents",e)),t.listId==a&&r({category:"AllTasks"}),s()};return(0,a.jsxs)("div",{className:"MenuItem",children:[(0,a.jsx)("h3",{className:"H3",children:"LISTS"}),e.map(e=>{if("list"==e.category)return(0,a.jsxs)("div",{onClick:()=>{r({category:"list",listName:e.listName,listId:e.listId}),window.innerWidth<1024&&d(!1)},children:[(0,a.jsx)(b.Z,{className:"Icon h-4 w-4"}),(0,a.jsx)("p",{className:"grow",children:e.listName}),(0,a.jsx)(p.Z,{className:"Icon h-4 w-4",onClick:()=>g(e.documentId,e.listId)})]})}),i?(0,a.jsxs)("div",{className:"bg-neutral-200 dark:bg-neutral-800",children:[(0,a.jsx)(f.Z,{className:"Icon h-4 w-4"}),(0,a.jsx)("input",{className:"bg-neutral-200 focus:outline-none dark:bg-neutral-800 dark:text-white",type:"text",autoFocus:!0,onBlur:o,onChange:e=>""!=e.target.value&&x(e.target.value),onKeyDown:h})]}):(0,a.jsxs)("div",{onClick:o,children:[(0,a.jsx)(w.Z,{className:"Icon h-4 w-4"}),(0,a.jsx)("p",{children:"Add New List"})]})]})},y=()=>{let{tagsToShow:e,getTags:s,selectedItem:t,setSelectedItem:r}=(0,l.useContext)(ei),[d,i]=m(),o=["bg-red-300","bg-orange-300","bg-yellow-300","bg-lime-300","bg-green-300","bg-emerald-300","bg-teal-300","bg-blue-300","bg-purple-300","bg-fuchsia-300"],[x,h]=(0,l.useState)(""),g=async e=>{"Enter"==e.key&&""!=x&&(e.target.value="",i(),await (0,c.ET)((0,c.hJ)(n.db,"users",n.I8.currentUser.uid,"tags"),{category:"Tag",tagName:x,colorId:o[Math.floor(Math.random()*o.length)]}),h(""),s())},j=async e=>{await (0,c.oe)((0,c.JU)(n.db,"users",n.I8.currentUser.uid,"tags",e)),(null==t?void 0:t.tagId)==e&&r({category:"AllTasks"}),s()};return(0,a.jsxs)("div",{className:"h-full",children:[(0,a.jsx)("h3",{className:"H3",children:"TAGS"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-1 my-0.5",children:[e.map(e=>(0,a.jsxs)("div",{className:"".concat(e.colorId," Tag"),onClick:()=>{r(e)},children:[(0,a.jsx)("p",{className:"text-sm",children:e.tagName})," ",(0,a.jsx)(u.Z,{onClick:()=>j(e.tagId),className:"w-3 h-3"})," "]},e.tagId)),d?(0,a.jsxs)("div",{className:"AddTagButton",children:[(0,a.jsx)(f.Z,{className:"Icon w-3 h-3"}),(0,a.jsx)("input",{className:"bg-neutral-200 text-sm w-14 focus:outline-none",autoFocus:!0,onBlur:i,onChange:e=>{h(""!=e.target.value&&e.target.value)},onKeyDown:g,type:"text"})]}):(0,a.jsxs)("div",{onClick:i,className:"AddTagButton",children:[(0,a.jsx)(w.Z,{className:"Icon h-3 w-3"}),(0,a.jsx)("p",{className:"text-sm",children:"Add Tag"})]})]})]})},C=t(5846),S=t.n(C),Z=t(6926),T=t(1852),U=t(1689),E=t(7123),A=t(8736),D=t(4202),F=e=>{let{userInfo:s,getUserInfo:t}=(0,l.useContext)(ei),[r,d]=(0,l.useState)(s),i=(0,l.useRef)(null),o=(0,D.iH)(n.tO,"".concat(s.uid)),u=async()=>{if(""===r.userName){alert("username cannot be Empty");return}await (0,c.pl)((0,c.JU)(n.db,"users",s.uid),r),e.toggleState(),t()},x=e=>{""!=r.photoURL&&(0,D.oq)(o),(0,D.KV)(o,e.target.files[0]).then(()=>{(0,D.Jt)(o).then(e=>{d({...r,photoURL:e})})}),e.target.files};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"absolute inset-0 bg-neutral-100 p-4 flex flex-col gap-2 dark:bg-neutral-900 rounded-md",children:[(0,a.jsxs)("div",{className:"text-center relative",children:[""!=r.photoURL?(0,a.jsx)("img",{className:"Icon h-28 w-28 mx-auto rounded-full object-cover",src:r.photoURL}):(0,a.jsx)(Z.Z,{className:"Icon h-28 w-28 mx-auto"}),(0,a.jsx)(A.Z,{className:"Icon h-6 w-6  absolute top-0 right-0",onClick:e.toggleState})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("input",{className:"hidden",ref:i,type:"file",accept:"image/*",onChange:e=>x(e)}),(0,a.jsx)("button",{onClick:()=>i.current.click(),className:"SettingButton",children:"Change"}),(0,a.jsx)("button",{className:"SettingButton",onClick:()=>d({...r,photoURL:""}),children:"Remove"})]}),(0,a.jsx)("hr",{className:"border-neutral-400 dark:bg-neutral-600"}),(0,a.jsxs)("label",{className:"block",children:[(0,a.jsx)("span",{className:"text-sm dark:text-white",children:"Name"}),(0,a.jsx)("input",{className:"EditTaskName",type:"text",onChange:e=>d({...r,userName:e.target.value}),value:r.userName})]}),(0,a.jsxs)("label",{className:"block",children:[(0,a.jsx)("span",{className:"text-sm dark:text-white",children:"Email"}),(0,a.jsx)("input",{disabled:!0,className:"EditTaskName disabled:bg-neutral-200 dark:disabled:bg-neutral-800",type:"email",onChange:e=>d({...r,email:e.target.value}),value:r.email})]}),(0,a.jsxs)("label",{className:"block",children:[(0,a.jsx)("span",{className:"text-sm",children:"Phone No"}),(0,a.jsx)("input",{className:"EditTaskName",type:"number",onChange:e=>d({...r,phoneNo:e.target.value}),value:r.phoneNo})]}),(0,a.jsx)("div",{className:"h-full"}),(0,a.jsx)("button",{className:"bg-neutral-800 font-semibold text-white rounded-md p-2 dark:bg-neutral-200 dark:text-black",onClick:u,children:"Save Changes"})]})})},B=e=>{let{theme:s,setTheme:t,userInfo:r}=(0,l.useContext)(ei),[d,i]=m(),o=async()=>{await t("dark"==s?"":"dark"),await (0,c.pl)((0,c.JU)(n.db,"users",r.uid),{...r,theme:"dark"==s?"":"dark"})};return(0,a.jsxs)("div",{className:"absolute inset-0 flex flex-col bg-neutral-100 p-4 gap-2 dark:bg-neutral-900 dark:text-white rounded-md",children:[(0,a.jsxs)("div",{className:"text-center relative",children:[""!=r.photoURL?(0,a.jsx)("img",{className:"Icon h-28 w-28 mx-auto rounded-full object-cover",src:r.photoURL}):(0,a.jsx)(Z.Z,{className:"Icon h-28 w-28 mx-auto"}),(0,a.jsx)(A.Z,{className:"Icon h-6 w-6  absolute top-0 right-0",onClick:e.toggleState}),(0,a.jsx)("p",{className:"text-center font-bold text-xl my-2",children:r.userName})]}),(0,a.jsx)("hr",{className:"border-neutral-400 dark:border-neutral-600"}),(0,a.jsx)("div",{className:"py-1 px-2",onClick:i,children:"Edit Profile"}),d&&(0,a.jsx)(F,{toggleState:i}),(0,a.jsx)("div",{onClick:o,className:"py-1 px-2",children:"dark"==s?"Light Theme":"Dark Theme"})]})},L=()=>{let[e,s]=m(),{userInfo:t}=(0,l.useContext)(ei),c=(0,d.useRouter)(),i=async()=>{await (0,r.w7)(n.I8),c.push("/")};return(0,a.jsxs)("div",{children:[null!==t&&(0,a.jsxs)("div",{className:"MenuButtons",children:[""!=t.photoURL?(0,a.jsx)("img",{className:"h-6 w-6 rounded-full",src:t.photoURL}):(0,a.jsx)(Z.Z,{className:"Icon h-6 w-6"}),(0,a.jsx)("p",{children:t.userName})]}),(0,a.jsxs)("div",{className:"MenuButtons",onClick:s,children:[(0,a.jsx)(T.Z,{className:"Icon h-6 w-6"}),(0,a.jsx)("p",{children:"Settings"})]}),e&&(0,a.jsx)(B,{toggleState:s}),null==n.I8.currentUser?(0,a.jsxs)(S(),{className:"MenuButtons",href:"/Login",children:[(0,a.jsx)(U.Z,{className:"Icon h-6 w-6"}),(0,a.jsx)("p",{children:"LogIn"})]}):(0,a.jsxs)("div",{className:"MenuButtons",onClick:i,children:[(0,a.jsx)(E.Z,{className:"Icon h-6 w-6"}),(0,a.jsx)("p",{children:"LogOut"})]})]})},J=()=>(0,a.jsxs)("div",{className:"MenuBody",children:[(0,a.jsx)(h,{}),(0,a.jsx)(k,{}),(0,a.jsx)("hr",{className:"MenuBreakLine"}),(0,a.jsx)(I,{}),(0,a.jsx)("hr",{className:"MenuBreakLine"}),(0,a.jsx)(y,{}),(0,a.jsx)(L,{})]}),M=()=>{let{setMenuState:e,userInfo:s}=(0,l.useContext)(ei),t=(0,d.useRouter)(),c=async()=>{await (0,r.w7)(n.I8),t.push("/")};return(0,a.jsxs)("div",{className:"hidden lg:flex flex-col justify-between h-full p-4 rounded-md bg-neutral-100 dark:bg-neutral-900",children:[(0,a.jsx)("div",{children:(0,a.jsx)(i.Z,{onClick:()=>e(!0),className:"Icon w-6 h-6"})}),(0,a.jsxs)("div",{className:"space-y-3",children:[(null==s?void 0:s.photoURL)!=""?(0,a.jsx)("img",{className:"Icon h-28 w-28 mx-auto rounded-full object-cover",src:null==s?void 0:s.photoURL}):(0,a.jsx)(Z.Z,{className:"Icon h-6 w-6 mx-auto"}),(0,a.jsx)("div",{className:"MenuSlimItems",onClick:()=>{e(!0)},children:(0,a.jsx)(T.Z,{className:"Icon h-6 w-6"})}),null==n.I8.currentUser?(0,a.jsx)(S(),{href:"/Login",children:(0,a.jsx)(U.Z,{className:"Icon h-6 w-6"})}):(0,a.jsx)("div",{onClick:c,children:(0,a.jsx)(E.Z,{className:"Icon h-6 w-6"})})]})]})},W=()=>{let{getDocuments:e,documentEdit:s,setSidebarState:t,setDocumentEdit:r}=(0,l.useContext)(ei),d=async()=>{if(""===s.taskName){alert("Task Name cannot be Empty");return}await (0,c.pl)((0,c.JU)(n.db,"users",n.I8.currentUser.uid,"documents",s.documentId),s),r({}),t(!1),e()},i=async()=>{await (0,c.oe)((0,c.JU)(n.db,"users",n.I8.currentUser.uid,"documents",s.documentId)),t(!1),e()};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:d,className:"bg-neutral-700 rounded-md p-1 w-full text-white dark:bg-neutral-300 dark:text-black",children:"Save Changes"}),(0,a.jsx)("button",{onClick:i,className:"bg-neutral-200 rounded-md p-1 w-full dark:bg-neutral-800 dark:text-white",children:"Delete Task"})]})},R=()=>{let{documentEdit:e,setDocumentEdit:s}=(0,l.useContext)(ei),[t,n]=(0,l.useState)(e.taskName);return(0,l.useEffect)(()=>{s({...e,taskName:t})},[t]),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("input",{className:"EditTaskName",type:"text",onChange:e=>n(e.target.value),value:t})})},H=()=>{let{documentEdit:e,setDocumentEdit:s}=(0,l.useContext)(ei),[t,n]=(0,l.useState)(""!=e.description?e.description:"Description");return(0,l.useEffect)(()=>{s({...e,description:t})},[t]),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("textarea",{className:"Description",onChange:e=>n(e.target.value),onFocus:()=>"Description"==t&&n(""),rows:3,value:t})})},O=()=>{let{documentsToShow:e,documentEdit:s,setDocumentEdit:t}=(0,l.useContext)(ei),[n,c]=(0,l.useState)(s.listId),[r,d]=(0,l.useState)(s.listName);return(0,l.useEffect)(()=>{t({...s,listId:n,listName:r})},[n,r]),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("p",{className:"w-1/3",children:"List"}),(0,a.jsxs)("select",{onChange:e=>{let s=JSON.parse(e.target.value);d(s.listName),c(s.listId)},className:"SelectMenu",children:[""==s.listName&&(0,a.jsx)("option",{children:"None"}),e.map(e=>"list"==e.category&&(0,a.jsx)("option",{value:JSON.stringify(e),children:e.listName}))]})]})},K=t(9977),q=t.n(K);t(8758);var P=()=>{let{documentEdit:e,setDocumentEdit:s}=(0,l.useContext)(ei),[t,n]=(0,l.useState)(e.dueDate),c=new Date;return(0,l.useEffect)(()=>{s({...e,dueDate:t})},[t]),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("p",{className:"w-1/3",children:"Due Date"}),(0,a.jsx)("div",{children:(0,a.jsx)(q(),{selected:""!=t?t:c,dateFormat:"dd/MM/yyyy",onChange:e=>n(e),className:"SelectMenu"})})]})},_=()=>{let{tagsToShow:e,documentEdit:s,setDocumentEdit:t}=(0,l.useContext)(ei),[n,c]=(0,l.useState)(s.tags),[r,d]=m();(0,l.useEffect)(()=>{t({...s,tags:n})},[n]);let i=e=>{let s=!1;n.map(t=>{t.tagId==e.tagId&&(s=!0)}),s||c([...n,e])},o=e=>{c(n.filter(s=>s.tagId!=e))};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("p",{className:"w-1/3",children:"Tags"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-1",children:[null==n?void 0:n.map(e=>(0,a.jsxs)("div",{className:"".concat(e.colorId," Tag flex items-center"),children:[(0,a.jsx)("p",{className:"text-sm dark:text-black",children:e.tagName})," ",(0,a.jsx)(u.Z,{onClick:()=>o(e.tagId),className:"w-3 h-3"})," "]})),(0,a.jsxs)("div",{onClick:d,className:"AddTagButton",children:[(0,a.jsx)(w.Z,{className:"Icon h-3 w-3"}),(0,a.jsx)("p",{className:"text-xs",children:"Add Tag"})]})]})]}),r&&(0,a.jsx)("div",{className:"AddTagBody",children:e.map(e=>(0,a.jsx)("div",{onClick:()=>i(e),className:"".concat(e.colorId," Tag "),children:e.tagName}))})]})},z=t(4619),G=t(3913),Q=()=>{let{documentEdit:e,setDocumentEdit:s}=(0,l.useContext)(ei),[t,n]=(0,l.useState)(""),[c,r]=(0,l.useState)(e.subtasks),[d,i]=m();(0,l.useEffect)(()=>{s({...e,subtasks:c})},[c]);let o=(e,s)=>{r([...c.map(t=>t.subtaskId===e?{...t,subtaskCompleted:s}:t)])},u=e=>{r(c.filter(s=>s.subtaskId!=e))};return(0,a.jsxs)("div",{className:"h-full space-y-1",children:[(0,a.jsx)("h2",{className:"H2",children:"Subtask:"}),d?(0,a.jsxs)("div",{className:"AddSubtaskButton bg-neutral-200 text-sm dark:bg-neutral-800",children:[(0,a.jsx)(f.Z,{className:"Icon mx-2 w-4 h-4"}),(0,a.jsx)("input",{className:"bg-neutral-200 w-full focus:outline-none dark:bg-neutral-800 dark:text-white",autoFocus:!0,onBlur:i,onChange:e=>n(e.target.value),onKeyDown:e=>{if("Enter"==e.key&&""!=t){e.target.value="";let s={subtaskName:t,subtaskId:(0,v.Z)(),subtaskCompleted:!1};n(""),r([...c,s])}},type:"text"})]}):(0,a.jsxs)("button",{className:"AddSubtaskButton",onClick:i,children:[(0,a.jsx)(w.Z,{className:"Icon mx-2 w-4 h-4"}),(0,a.jsx)("p",{className:"text-sm",children:"Add New Subtask"})]}),null==c?void 0:c.map(e=>(0,a.jsxs)("div",{className:"Subtask",children:[e.subtaskCompleted?(0,a.jsx)(z.Z,{onClick:()=>o(e.subtaskId,!1),className:"text-green-300 mx-2 w-4 h-4 "}):(0,a.jsx)(G.Z,{onClick:()=>o(e.subtaskId,!0),className:"Icon mx-2 w-4 h-4"}),(0,a.jsx)("p",{className:"".concat(e.subtaskCompleted&&"line-through"," grow text-sm"),children:e.subtaskName}),(0,a.jsx)(p.Z,{onClick:()=>u(e.subtaskId),className:"mx-2 w-4 h-4 dark:text-white"})]}))]})},V=()=>{let{setSidebarState:e,setDocumentEdit:s}=(0,l.useContext)(ei);return(0,a.jsxs)("div",{className:"SidebarBody",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("h2",{className:"H2 w-full",children:"Task"}),(0,a.jsx)(u.Z,{onClick:()=>{e(!1),s({})},className:"Icon w-6 h-6"})]}),(0,a.jsxs)("div",{className:"overflow-auto h-full lg:overflow-hidden space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2 h-fit",children:[(0,a.jsx)(R,{}),(0,a.jsx)(H,{})]}),(0,a.jsxs)("div",{className:"space-y-2 h-fit text-sm",children:[(0,a.jsx)(O,{}),(0,a.jsx)(P,{}),(0,a.jsx)(_,{})]}),(0,a.jsx)(Q,{})]}),(0,a.jsx)(W,{})]})},Y=e=>{let{getDocuments:s}=(0,l.useContext)(ei),[t,r]=m(),[d,i]=(0,l.useState)(""),o=async t=>{"Enter"==t.key&&""!=d&&(t.target.value="",await (0,c.ET)((0,c.hJ)(n.db,"users",n.I8.currentUser.uid,"documents"),{category:"Task",listName:e.listName?e.listName:"",listId:e.listId?e.listId:"",taskName:d,taskId:(0,v.Z)(),description:"",dueDate:"",taskCompleted:!1,tags:void 0!=e.tags?[e.tags]:[],subtasks:[]}),s())};return(0,a.jsx)(a.Fragment,{children:t?(0,a.jsxs)("div",{className:"TaskInput",children:[(0,a.jsx)(f.Z,{className:"Icon w-5 h-5"}),(0,a.jsx)("input",{className:"dark:text-white",autoFocus:!0,onBlur:r,onChange:e=>i(e.target.value),onKeyDown:o,type:"text"})]}):(0,a.jsxs)("button",{className:"AddTaskButton",onClick:r,children:[(0,a.jsx)(w.Z,{className:"Icon w-5 h-5"}),(0,a.jsx)("p",{children:"Add New Task"})]})})},X=t(426),$=e=>{let{getDocuments:s,documentEdit:t,setDocumentEdit:r,setSidebarState:d}=(0,l.useContext)(ei),i=e.document,o=async e=>{await (0,c.pl)((0,c.JU)(n.db,"users",n.I8.currentUser.uid,"documents",i.documentId),{...i,taskCompleted:e}),s()},u=async()=>{await r(i),await d(!1),await d(!0)};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"".concat(t.taskId==i.taskId&&"bg-neutral-100 dark:bg-neutral-900"," Task"),children:[i.taskCompleted?(0,a.jsx)(z.Z,{onClick:()=>o(!1),className:"text-green-300 mx-3 w-5 h-5"}):(0,a.jsx)(G.Z,{onClick:()=>o(!0),className:"Icon mx-3 w-5 h-5"}),(0,a.jsx)("p",{onClick:u,className:" ".concat(i.taskCompleted&&"line-through"," grow py-1 "),children:i.taskName}),(0,a.jsx)(X.Z,{className:"mx-3 w-5 h-5 dark:text-white"})]},(0,v.Z)())})},ee=()=>{let{documentsToShow:e,selectedItem:s}=(0,l.useContext)(ei);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h1",{className:"font-bold text-4xl lg:text-6xl",children:s.category}),(0,a.jsx)(Y,{listName:"",listId:""}),e.map(e=>"Task"==e.category&&(0,a.jsx)("div",{children:(0,a.jsx)($,{document:e})},e.taskId))]})},es=()=>{let{documentsToShow:e,selectedItem:s}=(0,l.useContext)(ei),t=new Date;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h1",{className:"font-bold text-4xl lg:text-6xl",children:s.category}),(0,a.jsx)(Y,{listName:"",listId:""}),e.map(e=>{if(""!=e.taskName)return(e.dueDate==t||""==e.dueDate)&&(0,a.jsx)("div",{children:(0,a.jsx)($,{document:e})},e.taskId)})]})},et=()=>{let{documentsToShow:e,selectedItem:s}=(0,l.useContext)(ei);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h1",{className:"font-bold text-4xl lg:text-6xl",children:s.listName}),(0,a.jsx)(Y,{listName:s.listName,listId:s.listId}),e.map(e=>e.listId==s.listId&&""!=e.taskName&&(0,a.jsx)("div",{children:(0,a.jsx)($,{document:e})},e.taskId))]})},ea=t(8104),el=()=>{let{getStickyWalls:e}=(0,l.useContext)(ei),[s,t]=m(),[r,d]=(0,l.useState)(""),[i,o]=(0,l.useState)(""),[x,h]=(0,l.useState)("bg-neutral-100");var g=new Date,j=g.getDate()+" "+g.getMonth()+" "+g.getFullYear()+" "+g.getHours()+":"+g.getMinutes()+":"+g.getSeconds();let N=async s=>{console.log(j),""!=i||""!=r?(s.target.value="",t(!1),await (0,c.pl)((0,c.JU)(n.db,"users",n.I8.currentUser.uid,"stickyWalls",j),{category:"StickyWalls",heading:r,text:i,colorId:x}),d(""),o(""),h("bg-neutral-100"),e()):(t(!1),alert("Empty Note Discarded"))};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{onClick:t,className:"AddStickyWall",children:(0,a.jsx)(w.Z,{className:"m-2 w-6 h-6 dark:text-white"})}),s&&(0,a.jsx)("div",{className:"absolute inset-0 grid place-content-center bg-neutral-500/50 z-20",children:(0,a.jsxs)("div",{className:"".concat(x," aspect-square rounded-md overflow-hidden"),children:[(0,a.jsxs)("div",{className:"flex justify-between bg-neutral-200 px-4 py-2 gap-4 dark:bg-neutral-800",children:[(0,a.jsx)("div",{className:"flex gap-2",children:["bg-red-200","bg-orange-200","bg-yellow-200","bg-lime-200","bg-green-200","bg-emerald-200","bg-teal-200","bg-blue-200","bg-purple-200","bg-fuchsia-200"].map(e=>(0,a.jsx)("div",{onClick:()=>h(e),className:"".concat(e," aspect-square w-5 h-5 rounded-full border-2 border-neutral-300 dark:border-neutral-700")}))}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(ea.Z,{onClick:N,className:"w-5 h-5 dark:text-white"}),(0,a.jsx)(u.Z,{onClick:t,className:"w-6 h-6 dark:text-white"})]})]}),(0,a.jsxs)("div",{className:"p-4 flex flex-col gap-2 h-full",children:[(0,a.jsx)("input",{type:"text",className:"".concat(x," text-2xl md:text-4xl text-black "),placeholder:"Title..",onChange:e=>d(e.target.value)}),(0,a.jsx)("textarea",{className:"".concat(x," w-full h-full leading-snug resize-none focus:outline-none text-black "),placeholder:"text..",onChange:e=>o(e.target.value)})]})]})})]})},en=e=>{let{documentEdit:s,setDocumentEdit:t,getStickyWalls:r}=(0,l.useContext)(ei),[d,i]=(0,l.useState)(s.heading),[o,x]=(0,l.useState)(s.text),[m,h]=(0,l.useState)(s.colorId);(0,l.useEffect)(()=>{t({...s,heading:d,text:o,colorId:m})},[d,o,m]);let g=async()=>{if(""==d&&""==o){alert("Both Fields cannot be empty");return}await (0,c.pl)((0,c.JU)(n.db,"users",n.I8.currentUser.uid,"stickyWalls",s.stickyWallId),s),e.toggleState(!1),r()},j=async s=>{await (0,c.oe)((0,c.JU)(n.db,"users",n.I8.currentUser.uid,"stickyWalls",s)),e.toggleState(!1),r()};return(0,a.jsx)(a.Fragment,{children:e.state&&(0,a.jsx)("div",{className:"absolute inset-0 grid place-content-center bg-neutral-500/50 z-20",children:(0,a.jsxs)("div",{className:"".concat(m," aspect-square rounded-md overflow-hidden"),children:[(0,a.jsxs)("div",{className:"flex justify-between bg-neutral-200 px-4 py-2 gap-4 dark:bg-neutral-800",children:[(0,a.jsx)("div",{className:"flex gap-2",children:["bg-red-200","bg-orange-200","bg-yellow-200","bg-lime-200","bg-green-200","bg-emerald-200","bg-teal-200","bg-blue-200","bg-purple-200","bg-fuchsia-200"].map(e=>(0,a.jsx)("div",{onClick:()=>h(e),className:"".concat(e," aspect-square w-5 h-5 rounded-full border-2 border-neutral-300 dark:border-neutral-700")}))}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(ea.Z,{onClick:g,className:"w-5 h-5 dark:text-white"}),(0,a.jsx)(p.Z,{onClick:()=>j(s.stickyWallId),className:"w-5 h-5 dark:text-white"}),(0,a.jsx)(u.Z,{onClick:()=>e.toggleState(!1),className:"w-6 h-6 dark:text-white"})]})]}),(0,a.jsxs)("div",{className:"p-4 flex gap-2 flex-col h-full",children:[(0,a.jsx)("input",{type:"text",className:"".concat(m," text-2xl md:text-4xl"),value:d,onChange:e=>i(e.target.value)}),(0,a.jsx)("textarea",{className:"w-full h-full leading-snug ".concat(m," resize-none focus:outline-none"),value:""!=o?o:"text...",onChange:e=>x(e.target.value)})]})]})})})},ec=()=>{let{stickyWallsToShow:e,setDocumentEdit:s,selectedItem:t}=(0,l.useContext)(ei),[n,c]=m();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h1",{className:"font-bold text-4xl lg:text-6xl",children:t.category}),(0,a.jsx)("hr",{className:"border-none lg:my-1"}),(0,a.jsxs)("div",{className:"relative columns-2 sm:columns-3 lg:columns-4 rounded-md p-4 border border-neutral-300 h-full dark:border-neutral-700",children:[(0,a.jsx)(el,{}),e.map(e=>(0,a.jsx)("div",{onClick:()=>{c(!0),s(e)},className:"".concat(e.colorId," rounded-md  max-h-60 p-2 break-inside-avoid mb-4"),children:(0,a.jsxs)("div",{className:"max-h-56 overflow-hidden",children:[(0,a.jsx)("h2",{className:"font-semibold text-xl text-neutral-800",children:e.heading}),(0,a.jsx)("div",{className:"text-neutral-800 leading-tight",children:e.text})]})},e.documentId))]}),n&&(0,a.jsx)(en,{state:n,toggleState:c})]})},er=()=>{let{documentsToShow:e,selectedItem:s}=(0,l.useContext)(ei);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h1",{className:"font-bold text-4xl lg:text-6xl",children:s.tagName}),(0,a.jsx)(Y,{tags:s}),e.map(e=>e.tags.map(t=>{if(s.tagId==t.tagId)return(0,a.jsx)($,{document:e})}))]})},ed=()=>{let{selectedItem:e,menuState:s,sidebarState:t}=(0,l.useContext)(ei),[n,c]=(0,l.useState)("w-full");return(0,l.useEffect)(()=>{t&&s?c("lg:w-2/4"):t||s?c("lg:w-3/4"):c("w-full")},[s,t]),(0,a.jsx)("div",{className:"TaskBody ".concat(n),children:"list"==e.category?(0,a.jsx)(et,{}):"Today"==e.category?(0,a.jsx)(es,{}):"AllTasks"==e.category?(0,a.jsx)(ee,{}):"StickyWalls"==e.category?(0,a.jsx)(ec,{}):"Tag"==e.category&&(0,a.jsx)(er,{})})};let ei=(0,l.createContext)();var eo=()=>{let e=(0,d.useRouter)();(0,l.useEffect)(()=>{(0,r.Aj)(n.I8,async s=>{s?Z():e.push("/")})},[]);let[s,t]=(0,l.useState)(null),[i,u]=(0,l.useState)([]),[x,m]=(0,l.useState)([]),[h,g]=(0,l.useState)([]),[j,N]=(0,l.useState)({category:"AllTasks"}),[k,b]=(0,l.useState)(null),[p,w]=(0,l.useState)({}),[f,v]=(0,l.useState)(!1),[I,y]=(0,l.useState)(!1),[C,S]=(0,l.useState)("");(0,l.useEffect)(()=>{null!==s&&(T(),U(),E(),S(s.theme))},[s]);let Z=async()=>{let e=(0,c.JU)(n.db,"users",n.I8.currentUser.uid),s=await (0,c.QT)(e),a=s.data();t({...a,uid:n.I8.currentUser.uid})},T=async()=>{let e=[];try{let t=await (0,c.PL)((0,c.hJ)(n.db,"users",s.uid,"documents"));t.forEach(s=>{let t=s.data(),a={...t,documentId:s.id};e.push(a)})}catch(e){console.log(e)}u(e)},U=async()=>{let e=[];try{let t=await (0,c.PL)((0,c.hJ)(n.db,"users",s.uid,"tags"));t.forEach(s=>{let t=s.data(),a={...t,tagId:s.id};e.push(a)})}catch(e){console.log(e)}m(e)},E=async()=>{let e=[];try{let t=await (0,c.PL)((0,c.hJ)(n.db,"users",s.uid,"stickyWalls"));t.forEach(s=>{let t=s.data(),a={...t,stickyWallId:s.id};e.push(a)})}catch(e){console.log(e)}e.reverse(),g(e)};return(0,a.jsx)(ei.Provider,{value:{userInfo:s,getUserInfo:Z,documentsToShow:i,getDocuments:T,tagsToShow:x,getTags:U,stickyWallsToShow:h,getStickyWalls:E,selectedItem:j,setSelectedItem:N,selectedTask:k,setSelectedTask:b,menuState:f,setMenuState:v,setSidebarState:y,documentEdit:p,setDocumentEdit:w,theme:C,setTheme:S},children:(0,a.jsx)("div",{className:"".concat(C),children:(0,a.jsxs)("div",{className:"flex flex-col h-screen lg:p-4 lg:flex-row lg:gap-4 font-montserrat dark:bg-black",children:[(0,a.jsx)(o,{}),f?(0,a.jsx)(J,{}):(0,a.jsx)(M,{}),(0,a.jsx)(ed,{}),I&&(0,a.jsx)(V,{})]})})})}}},function(e){e.O(0,[613,104,568,846,73,667,488,744],function(){return e(e.s=9733)}),_N_E=e.O()}]);